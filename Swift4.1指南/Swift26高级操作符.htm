<!DOCTYPE html>
<!-- saved from url=(0165)https://developer.apple.com/library/content/documentation/Swift/Conceptual/Swift_Programming_Language/AdvancedOperators.html#//apple_ref/doc/uid/TP40014097-CH27-ID28 -->
<html lang="en" class="translated-ltr"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">  
  <title>Swift编程语言（Swift 4.1）：高级操作符</title>
  <link rel="stylesheet" type="text/css" href="./Swift编程语言（Swift 4.1）：高级操作符_files/style-1.6.3.css">
  <link rel="stylesheet" type="text/css" href="./Swift编程语言（Swift 4.1）：高级操作符_files/feedback-1.6.3.css">
   
<meta id="j-version" name="j-version" content="">
<meta id="build" name="build" content="2cff7ac52859143a0b42c92c22d84718">
<meta id="document-version" name="document-version" content="10.3.3">
<meta id="book-assignments" name="book-assignments" content="{Type/Guide}, {Topic/Swift}">
<meta scheme="apple_ref" id="identifier" name="identifier" content="//apple_ref/doc/uid/TP40014097">
<meta id="chapterId" name="chapterId" content="TP40014097-CH27">
<meta id="book-title" name="book-title" content="The Swift Programming Language (Swift 4.1)">
<meta id="book-resource-type" name="book-resource-type" content="Guide">
<meta id="book-root" name="book-root" content="./">
<meta id="book-json" name="book-json" content="book.json">
<meta id="date" name="date" content="2018-02-20">
<meta id="description" name="description" content="The definitive guide to Swift, Apple’s programming language for building iOS, macOS, watchOS, and tvOS apps.">
<meta id="IndexTitle" name="IndexTitle" content="">
<meta id="resources-uri" name="resources-uri" content="../../../../Resources/1277">
<link id="book-index-page" rel="Start" title="" type="text/html" href="https://developer.apple.com/library/content/documentation/Swift/Conceptual/Swift_Programming_Language/index.html">
<!-- , next_chapter: next_chapter, previous_chapter: previous_chapter -->
<link id="next-page" rel="Next" type="text/html" href="https://developer.apple.com/library/content/documentation/Swift/Conceptual/Swift_Programming_Language/AdvancedOperators.html">
<link id="previous-page" rel="Prev" type="text/html" href="https://developer.apple.com/library/content/documentation/Swift/Conceptual/Swift_Programming_Language/AdvancedOperators.html">
<meta id="devcenter" name="devcenter" content="&lt;!-- DEVCENTER_NAME --&gt;">
<meta id="devcenter-url" name="devcenter-url" content="&lt;!-- DEVCENTER_URL --&gt;">
<meta id="reflib" name="reflib" content="&lt;!-- REFLIB_NAME --&gt;">

<meta id="xcode-display" name="xcode-display" content="render">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
<meta id="platforms" name="platforms" content="Xcode Developer Tools">
<link type="text/css" rel="stylesheet" charset="UTF-8" href="./Swift编程语言（Swift 4.1）：高级操作符_files/translateelement.css"></head>

  <body id="conceptual_flow_with_tasks" class="jazz">
    
    <header id="ios_header" class="hideOnPrint hideInXcode">
  <div class="content-wrapper">
    <p class="header-text">
    	<a href="https://developer.apple.com/library/content/navigation/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">指南和示例代码
 		</font></font></a>
 </p>
    <p id="wwdr"><img id="apple_logo" src="./Swift编程语言（Swift 4.1）：高级操作符_files/apple2.png" height="14px" width="12px" aria-hidden="true"><a href="https://developer.apple.com/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">开发人员</font></font></a></p>
  </div>
</header>

    <section id="valence">
  <div class="content-wrapper">
    <p id="hierarchial_navigation">
      <span id="book_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Swift编程语言（Swift 4.1）</font></font></span>
    </p>
    <form id="search" class="hideInXcode" method="get" action="https://developer.apple.com/search/index.php" accept-charset="utf-8" autocomplete="off">
  <input type="search" id="ssi_SearchField" placeholder="Search Guides and Sample Code" name="q" autocomplete="off" tabindex="2">
</form>

      
   
   




    <span class="download-text hideInXcode">
      <a href="https://itunes.apple.com/us/book/the-swift-programming-language/id1002622538?mt=11"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的iBooks</font></font></a>
    </span>

    

    <img id="shortstack" src="./Swift编程语言（Swift 4.1）：高级操作符_files/shortstack_2x.png">
  </div>
</section>
    <div class="content-wrapper">
      <nav id="navigator" class="book-parts hideInXcode" role="navigation">
    <ul class="nav-parts">
        <li data-id="//apple_ref/doc/uid/TP40014097-CH1-ID2" class="part-name">
            <a href="https://developer.apple.com/library/content/documentation/Swift/Conceptual/Swift_Programming_Language/index.html#//apple_ref/doc/uid/TP40014097-CH3-ID0" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40014097-CH3-ID0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">欢迎来到Swift</font></font></a>
          <ul class="nav-chapters">
              <li class="nav-chapter">
              	<a href="https://developer.apple.com/library/content/documentation/Swift/Conceptual/Swift_Programming_Language/index.html#//apple_ref/doc/uid/TP40014097-CH3-ID0" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40014097-CH3-ID0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">关于Swift</font></font></a>
              </li>
              <li class="nav-chapter">
              	<a href="https://developer.apple.com/library/content/documentation/Swift/Conceptual/Swift_Programming_Language/Compatibility.html#//apple_ref/doc/uid/TP40014097-CH45-ID561" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40014097-CH45-ID561"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版本兼容性</font></font></a>
              </li>
              <li class="nav-chapter">
              	<a href="https://developer.apple.com/library/content/documentation/Swift/Conceptual/Swift_Programming_Language/GuidedTour.html#//apple_ref/doc/uid/TP40014097-CH2-ID1" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40014097-CH2-ID1"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">快速游览</font></font></a>
              </li>
          </ul>
        </li>
        <li data-id="//apple_ref/doc/uid/TP40014097-CH4-ID233" class="part-name nav-part-active open-part">
            <a href="https://developer.apple.com/library/content/documentation/Swift/Conceptual/Swift_Programming_Language/TheBasics.html#//apple_ref/doc/uid/TP40014097-CH5-ID309" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40014097-CH5-ID309"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">语言指南</font></font></a>
          <ul class="nav-chapters">
              <li class="nav-chapter">
              	<a href="https://developer.apple.com/library/content/documentation/Swift/Conceptual/Swift_Programming_Language/TheBasics.html#//apple_ref/doc/uid/TP40014097-CH5-ID309" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40014097-CH5-ID309"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">基础</font></font></a>
              </li>
              <li class="nav-chapter">
              	<a href="https://developer.apple.com/library/content/documentation/Swift/Conceptual/Swift_Programming_Language/BasicOperators.html#//apple_ref/doc/uid/TP40014097-CH6-ID60" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40014097-CH6-ID60"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">基本操作员</font></font></a>
              </li>
              <li class="nav-chapter">
              	<a href="https://developer.apple.com/library/content/documentation/Swift/Conceptual/Swift_Programming_Language/StringsAndCharacters.html#//apple_ref/doc/uid/TP40014097-CH7-ID285" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40014097-CH7-ID285"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">字符串和字符</font></font></a>
              </li>
              <li class="nav-chapter">
              	<a href="https://developer.apple.com/library/content/documentation/Swift/Conceptual/Swift_Programming_Language/CollectionTypes.html#//apple_ref/doc/uid/TP40014097-CH8-ID105" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40014097-CH8-ID105"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">集合类型</font></font></a>
              </li>
              <li class="nav-chapter">
              	<a href="https://developer.apple.com/library/content/documentation/Swift/Conceptual/Swift_Programming_Language/ControlFlow.html#//apple_ref/doc/uid/TP40014097-CH9-ID120" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40014097-CH9-ID120"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">控制流</font></font></a>
              </li>
              <li class="nav-chapter">
              	<a href="https://developer.apple.com/library/content/documentation/Swift/Conceptual/Swift_Programming_Language/Functions.html#//apple_ref/doc/uid/TP40014097-CH10-ID158" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40014097-CH10-ID158"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">功能</font></font></a>
              </li>
              <li class="nav-chapter">
              	<a href="https://developer.apple.com/library/content/documentation/Swift/Conceptual/Swift_Programming_Language/Closures.html#//apple_ref/doc/uid/TP40014097-CH11-ID94" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40014097-CH11-ID94"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">关闭</font></font></a>
              </li>
              <li class="nav-chapter">
              	<a href="https://developer.apple.com/library/content/documentation/Swift/Conceptual/Swift_Programming_Language/Enumerations.html#//apple_ref/doc/uid/TP40014097-CH12-ID145" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40014097-CH12-ID145"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">枚举</font></font></a>
              </li>
              <li class="nav-chapter">
              	<a href="https://developer.apple.com/library/content/documentation/Swift/Conceptual/Swift_Programming_Language/ClassesAndStructures.html#//apple_ref/doc/uid/TP40014097-CH13-ID82" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40014097-CH13-ID82"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">类和结构</font></font></a>
              </li>
              <li class="nav-chapter">
              	<a href="https://developer.apple.com/library/content/documentation/Swift/Conceptual/Swift_Programming_Language/Properties.html#//apple_ref/doc/uid/TP40014097-CH14-ID254" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40014097-CH14-ID254"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">属性</font></font></a>
              </li>
              <li class="nav-chapter">
              	<a href="https://developer.apple.com/library/content/documentation/Swift/Conceptual/Swift_Programming_Language/Methods.html#//apple_ref/doc/uid/TP40014097-CH15-ID234" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40014097-CH15-ID234"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">方法</font></font></a>
              </li>
              <li class="nav-chapter">
              	<a href="https://developer.apple.com/library/content/documentation/Swift/Conceptual/Swift_Programming_Language/Subscripts.html#//apple_ref/doc/uid/TP40014097-CH16-ID305" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40014097-CH16-ID305"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">标</font></font></a>
              </li>
              <li class="nav-chapter">
              	<a href="https://developer.apple.com/library/content/documentation/Swift/Conceptual/Swift_Programming_Language/Inheritance.html#//apple_ref/doc/uid/TP40014097-CH17-ID193" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40014097-CH17-ID193"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">遗产</font></font></a>
              </li>
              <li class="nav-chapter">
              	<a href="https://developer.apple.com/library/content/documentation/Swift/Conceptual/Swift_Programming_Language/Initialization.html#//apple_ref/doc/uid/TP40014097-CH18-ID203" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40014097-CH18-ID203"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">初始化</font></font></a>
              </li>
              <li class="nav-chapter">
              	<a href="https://developer.apple.com/library/content/documentation/Swift/Conceptual/Swift_Programming_Language/Deinitialization.html#//apple_ref/doc/uid/TP40014097-CH19-ID142" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40014097-CH19-ID142"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">反初始化</font></font></a>
              </li>
              <li class="nav-chapter">
              	<a href="https://developer.apple.com/library/content/documentation/Swift/Conceptual/Swift_Programming_Language/OptionalChaining.html#//apple_ref/doc/uid/TP40014097-CH21-ID245" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40014097-CH21-ID245"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可选链接</font></font></a>
              </li>
              <li class="nav-chapter">
              	<a href="https://developer.apple.com/library/content/documentation/Swift/Conceptual/Swift_Programming_Language/ErrorHandling.html#//apple_ref/doc/uid/TP40014097-CH42-ID508" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40014097-CH42-ID508"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">错误处理</font></font></a>
              </li>
              <li class="nav-chapter">
              	<a href="https://developer.apple.com/library/content/documentation/Swift/Conceptual/Swift_Programming_Language/TypeCasting.html#//apple_ref/doc/uid/TP40014097-CH22-ID338" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40014097-CH22-ID338"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">类型铸造</font></font></a>
              </li>
              <li class="nav-chapter">
              	<a href="https://developer.apple.com/library/content/documentation/Swift/Conceptual/Swift_Programming_Language/NestedTypes.html#//apple_ref/doc/uid/TP40014097-CH23-ID242" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40014097-CH23-ID242"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">嵌套类型</font></font></a>
              </li>
              <li class="nav-chapter">
              	<a href="https://developer.apple.com/library/content/documentation/Swift/Conceptual/Swift_Programming_Language/Extensions.html#//apple_ref/doc/uid/TP40014097-CH24-ID151" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40014097-CH24-ID151"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">扩展</font></font></a>
              </li>
              <li class="nav-chapter">
              	<a href="https://developer.apple.com/library/content/documentation/Swift/Conceptual/Swift_Programming_Language/Protocols.html#//apple_ref/doc/uid/TP40014097-CH25-ID267" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40014097-CH25-ID267"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">协议</font></font></a>
              </li>
              <li class="nav-chapter">
              	<a href="https://developer.apple.com/library/content/documentation/Swift/Conceptual/Swift_Programming_Language/Generics.html#//apple_ref/doc/uid/TP40014097-CH26-ID179" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40014097-CH26-ID179"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">泛型</font></font></a>
              </li>
              <li class="nav-chapter">
              	<a href="https://developer.apple.com/library/content/documentation/Swift/Conceptual/Swift_Programming_Language/AutomaticReferenceCounting.html#//apple_ref/doc/uid/TP40014097-CH20-ID48" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40014097-CH20-ID48"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">自动引用计数</font></font></a>
              </li>
              <li class="nav-chapter">
              	<a href="https://developer.apple.com/library/content/documentation/Swift/Conceptual/Swift_Programming_Language/MemorySafety.html#//apple_ref/doc/uid/TP40014097-CH46-ID567" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40014097-CH46-ID567"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">内存安全</font></font></a>
              </li>
              <li class="nav-chapter">
              	<a href="https://developer.apple.com/library/content/documentation/Swift/Conceptual/Swift_Programming_Language/AccessControl.html#//apple_ref/doc/uid/TP40014097-CH41-ID3" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40014097-CH41-ID3"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">访问控制</font></font></a>
              </li>
              <li class="nav-chapter nav-current-chapter">
              	<a href="https://developer.apple.com/library/content/documentation/Swift/Conceptual/Swift_Programming_Language/AdvancedOperators.html#//apple_ref/doc/uid/TP40014097-CH27-ID28" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40014097-CH27-ID28"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">高级操作员</font></font></a>
              </li>
          </ul>
        </li>
        <li data-id="//apple_ref/doc/uid/TP40014097-CH28-ID427" class="part-name">
            <a href="https://developer.apple.com/library/content/documentation/Swift/Conceptual/Swift_Programming_Language/AboutTheLanguageReference.html#//apple_ref/doc/uid/TP40014097-CH29-ID345" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40014097-CH29-ID345"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">语言参考</font></font></a>
          <ul class="nav-chapters">
              <li class="nav-chapter">
              	<a href="https://developer.apple.com/library/content/documentation/Swift/Conceptual/Swift_Programming_Language/AboutTheLanguageReference.html#//apple_ref/doc/uid/TP40014097-CH29-ID345" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40014097-CH29-ID345"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">关于语言参考</font></font></a>
              </li>
              <li class="nav-chapter">
              	<a href="https://developer.apple.com/library/content/documentation/Swift/Conceptual/Swift_Programming_Language/LexicalStructure.html#//apple_ref/doc/uid/TP40014097-CH30-ID410" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40014097-CH30-ID410"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">词汇结构</font></font></a>
              </li>
              <li class="nav-chapter">
              	<a href="https://developer.apple.com/library/content/documentation/Swift/Conceptual/Swift_Programming_Language/Types.html#//apple_ref/doc/uid/TP40014097-CH31-ID445" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40014097-CH31-ID445"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">类型</font></font></a>
              </li>
              <li class="nav-chapter">
              	<a href="https://developer.apple.com/library/content/documentation/Swift/Conceptual/Swift_Programming_Language/Expressions.html#//apple_ref/doc/uid/TP40014097-CH32-ID383" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40014097-CH32-ID383"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表达式</font></font></a>
              </li>
              <li class="nav-chapter">
              	<a href="https://developer.apple.com/library/content/documentation/Swift/Conceptual/Swift_Programming_Language/Statements.html#//apple_ref/doc/uid/TP40014097-CH33-ID428" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40014097-CH33-ID428"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">声明</font></font></a>
              </li>
              <li class="nav-chapter">
              	<a href="https://developer.apple.com/library/content/documentation/Swift/Conceptual/Swift_Programming_Language/Declarations.html#//apple_ref/doc/uid/TP40014097-CH34-ID351" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40014097-CH34-ID351"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">声明</font></font></a>
              </li>
              <li class="nav-chapter">
              	<a href="https://developer.apple.com/library/content/documentation/Swift/Conceptual/Swift_Programming_Language/Attributes.html#//apple_ref/doc/uid/TP40014097-CH35-ID347" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40014097-CH35-ID347"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">属性</font></font></a>
              </li>
              <li class="nav-chapter">
              	<a href="https://developer.apple.com/library/content/documentation/Swift/Conceptual/Swift_Programming_Language/Patterns.html#//apple_ref/doc/uid/TP40014097-CH36-ID419" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40014097-CH36-ID419"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">模式</font></font></a>
              </li>
              <li class="nav-chapter">
              	<a href="https://developer.apple.com/library/content/documentation/Swift/Conceptual/Swift_Programming_Language/GenericParametersAndArguments.html#//apple_ref/doc/uid/TP40014097-CH37-ID406" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40014097-CH37-ID406"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">通用参数和参数</font></font></a>
              </li>
              <li class="nav-chapter">
              	<a href="https://developer.apple.com/library/content/documentation/Swift/Conceptual/Swift_Programming_Language/zzSummaryOfTheGrammar.html#//apple_ref/doc/uid/TP40014097-CH38-ID458" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40014097-CH38-ID458"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">语法概要</font></font></a>
              </li>
          </ul>
        </li>
        <li data-id="//apple_ref/doc/uid/TP40014097-CH39-ID460" class="part-name">
            <a href="https://developer.apple.com/library/content/documentation/Swift/Conceptual/Swift_Programming_Language/RevisionHistory.html#//apple_ref/doc/uid/TP40014097-CH40-ID459" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40014097-CH40-ID459"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">修订记录</font></font></a>
          <ul class="nav-chapters">
              <li class="nav-chapter">
              	<a href="https://developer.apple.com/library/content/documentation/Swift/Conceptual/Swift_Programming_Language/RevisionHistory.html#//apple_ref/doc/uid/TP40014097-CH40-ID459" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40014097-CH40-ID459"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文档修订历史</font></font></a>
              </li>
          </ul>
        </li>
    </ul>
</nav>

      <menu id="bashful" type="toolbar">
  <div class="shield"></div>
  <menuitem id="jump_to" class="menu-bar-item closed">
  <span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在本页</font></font></span>
  <div class="chevron">
    <div class="chevy chevron-left"></div>
    <div class="chevy chevron-right"></div>
  </div>
  <menu type="list" class="details">
      <ul class="list-bullet">
          <li class="item">
            <a href="https://developer.apple.com/library/content/documentation/Swift/Conceptual/Swift_Programming_Language/AdvancedOperators.html#//apple_ref/doc/uid/TP40014097-CH27-ID29"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">按位运算符</font></font></a>
          </li>
          <li class="item">
            <a href="https://developer.apple.com/library/content/documentation/Swift/Conceptual/Swift_Programming_Language/AdvancedOperators.html#//apple_ref/doc/uid/TP40014097-CH27-ID37"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">溢出操作符</font></font></a>
          </li>
          <li class="item">
            <a href="https://developer.apple.com/library/content/documentation/Swift/Conceptual/Swift_Programming_Language/AdvancedOperators.html#//apple_ref/doc/uid/TP40014097-CH27-ID41"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">优先和相关性</font></font></a>
          </li>
          <li class="item">
            <a href="https://developer.apple.com/library/content/documentation/Swift/Conceptual/Swift_Programming_Language/AdvancedOperators.html#//apple_ref/doc/uid/TP40014097-CH27-ID42"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">运算符方法</font></font></a>
          </li>
          <li class="item">
            <a href="https://developer.apple.com/library/content/documentation/Swift/Conceptual/Swift_Programming_Language/AdvancedOperators.html#//apple_ref/doc/uid/TP40014097-CH27-ID46"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">自定义操作符</font></font></a>
          </li>
      </ul>
  </menu>
</menuitem>

</menu>
<div class="pixel-line"></div>
<div class="rubber-band-gap"></div>
<article class="chapter">
  <a name="//apple_ref/doc/uid/TP40014097-CH27"></a><a name="//apple_ref/doc/uid/TP40014097-CH27-ID28"></a>

  <h2 class="chapter-name"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">高级操作员</font></font></h2>


  
  	<section class="section">
  		<p class="para"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
  除了在</font></font><span class="x-name"><a href="https://developer.apple.com/library/content/documentation/Swift/Conceptual/Swift_Programming_Language/BasicOperators.html#//apple_ref/doc/uid/TP40014097-CH6-ID60" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40014097-CH6-ID60"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">基本操作</font></font></a></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">符中描述的</font><span class="x-name"><a href="https://developer.apple.com/library/content/documentation/Swift/Conceptual/Swift_Programming_Language/BasicOperators.html#//apple_ref/doc/uid/TP40014097-CH6-ID60" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40014097-CH6-ID60"><font style="vertical-align: inherit;">操作符之外</font></a></span><font style="vertical-align: inherit;">，Swift还提供了几个执行更复杂值操作的高级操作符。</font><font style="vertical-align: inherit;">这些包括您将从C和Objective-C熟悉的所有按位和位移操作符。
</font></font></p>
<p class="para"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
  与C中的算术运算符不同，Swift中的算术运算符默认不会溢出。</font><font style="vertical-align: inherit;">溢出行为被捕获并报告为错误。</font><font style="vertical-align: inherit;">要选择溢出行为，请使用Swift默认溢出的第二组算术运算符，例如溢出添加运算符（</font></font><code class="code-voice">&amp;+</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）。</font><font style="vertical-align: inherit;">所有这些溢出操作符都以＆符号（</font></font><code class="code-voice">&amp;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font><font style="vertical-align: inherit;">开头</font><font style="vertical-align: inherit;">。
</font></font></p>
<p class="para"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
  当您定义自己的结构，类和枚举时，为这些自定义类型提供标准Swift运算符的自己实现会很有用。</font><font style="vertical-align: inherit;">Swift可以轻松地为这些运算符提供量身定制的实现，并准确确定它们的行为应该针对您创建的每种类型。
</font></font></p>
<p class="para"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
  您不仅限于预定义的操作员。</font><font style="vertical-align: inherit;">Swift使您可以自由定义自定义中缀，前缀，后缀和赋值运算符，并具有自定义优先级和关联性值。</font><font style="vertical-align: inherit;">这些运算符可以像任何预定义的运算符一样在代码中使用和采用，甚至可以扩展现有类型以支持您定义的自定义运算符。
</font></font></p>

		</section> 


  <section class="section">
  <a name="//apple_ref/doc/uid/TP40014097-CH27-ID29"></a>
  <h3 class="section-name" tabindex="0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">按位运算符</font></font></h3>
  <p class="para">
  <em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">按位运算符</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使您可以操作数据结构中的各个原始数据位。</font><font style="vertical-align: inherit;">它们通常用于低级编程，如图形编程和设备驱动程序创建。</font><font style="vertical-align: inherit;">按位运算符在处理来自外部源的原始数据时也很有用，例如编码和解码用于通过自定义协议进行通信的数据。
</font></font></p><p class="para"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
  Swift支持在C中找到的所有按位运算符，如下所述。
</font></font></p>
  <section class="section">
  <a name="//apple_ref/doc/uid/TP40014097-CH27-ID30"></a>
  <h3 class="section-name" tabindex="0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">按位NOT运算符</font></font></h3>
  <p class="para"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
  该</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">位NOT运算符</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font><code class="code-voice">~</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）反转数所有位：
</font></font></p><figure class="figure">
  
  <span class="caption"></span>
  <img src="./Swift编程语言（Swift 4.1）：高级操作符_files/bitwiseNOT_2x.png" alt="图片：../Art/bitwiseNOT_2x.png" width="447" height="129">
</figure><p class="para"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
  按位NOT运算符是一个前缀运算符，它在其运行的值之前立即出现，没有任何空格：
</font></font></p><section class="code-listing">
  
  <div class="code-sample">
      <div class="Swift">
        <ol class="code-lines">
            <li><code class="code-voice"><span class="kt">let</span> <span class="vc">initialBits</span>: <span class="n"><!-- a href="" -->UInt8<!-- /a --></span> = <span class="m">0b00001111</span></code></li>
            <li><code class="code-voice"><span class="kt">let</span> <span class="vc">invertedBits</span> = ~<span class="vc">initialBits</span>  <span class="c">// equals 11110000</span></code></li>
        </ol>
      </div>
  </div>
</section><p class="para">
  <code class="code-voice">UInt8</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">整数有八位，可以存储</font></font><code class="code-voice">0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font><font style="vertical-align: inherit;">之间的任何值</font></font><code class="code-voice">255</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">本示例</font></font><code class="code-voice">UInt8</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用二进制值</font><font style="vertical-align: inherit;">初始化一个</font><font style="vertical-align: inherit;">整数，</font></font><code class="code-voice">00001111</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">其前四位设置为</font></font><code class="code-voice">0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，其后四位设置为</font></font><code class="code-voice">1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">这相当于一个十进制值</font></font><code class="code-voice">15</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p><p class="para"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
  然后使用按位NOT运算符创建一个新的常数</font></font><code class="code-voice">invertedBits</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，该</font><font style="vertical-align: inherit;">常数</font><font style="vertical-align: inherit;">等于</font></font><code class="code-voice">initialBits</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，但所有位反转。</font><font style="vertical-align: inherit;">零点成为零点，零点变为零点。</font></font><code class="code-voice">invertedBits</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">is </font><font style="vertical-align: inherit;">的值</font></font><code class="code-voice">11110000</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，它等于一个无符号十进制值</font></font><code class="code-voice">240</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p>
  
</section>
<section class="section">
  <a name="//apple_ref/doc/uid/TP40014097-CH27-ID31"></a>
  <h3 class="section-name" tabindex="0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">按位与运算符</font></font></h3>
  <p class="para"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
  该</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">位AND运算符</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font><code class="code-voice">&amp;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）结合了两个数字的位数。</font><font style="vertical-align: inherit;">它返回一个新的数字，其位数</font></font><code class="code-voice">1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">只有</font></font><code class="code-voice">1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">两个</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">输入数字中</font><font style="vertical-align: inherit;">的位数相等时才会</font><font style="vertical-align: inherit;">设置</font><font style="vertical-align: inherit;">：
</font></font></p><figure class="figure">
  
  <span class="caption"></span>
  <img src="./Swift编程语言（Swift 4.1）：高级操作符_files/bitwiseAND_2x.png" alt="image：../Art/bitwiseAND_2x.png" width="447" height="208">
</figure><p class="para"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
  在下面的例子中，其值</font></font><code class="code-voice">firstSixBits</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><code class="code-voice">lastSixBits</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">四个中间位等于</font></font><code class="code-voice">1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">按位AND运算符组合它们以生成数字</font></font><code class="code-voice">00111100</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，该</font><font style="vertical-align: inherit;">数字</font><font style="vertical-align: inherit;">等于无符号十进制值</font></font><code class="code-voice">60</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：
</font></font></p><section class="code-listing">
  
  <div class="code-sample">
      <div class="Swift">
        <ol class="code-lines">
            <li><code class="code-voice"><span class="kt">let</span> <span class="vc">firstSixBits</span>: <span class="n"><!-- a href="" -->UInt8<!-- /a --></span> = <span class="m">0b11111100</span></code></li>
            <li><code class="code-voice"><span class="kt">let</span> <span class="vc">lastSixBits</span>: <span class="n"><!-- a href="" -->UInt8<!-- /a --></span>  = <span class="m">0b00111111</span></code></li>
            <li><code class="code-voice"><span class="kt">let</span> <span class="vc">middleFourBits</span> = <span class="vc">firstSixBits</span> &amp; <span class="vc">lastSixBits</span>  <span class="c">// equals 00111100</span></code></li>
        </ol>
      </div>
  </div>
</section>
  
</section>
<section class="section">
  <a name="//apple_ref/doc/uid/TP40014097-CH27-ID32"></a>
  <h3 class="section-name" tabindex="0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">按位或运算符</font></font></h3>
  <p class="para"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
  的</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">位或运算符</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font><code class="code-voice">|</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）两个数的比特进行比较。</font></font><code class="code-voice">1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果这两个位</font></font><code class="code-voice">1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">任一</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">输入数</font><font style="vertical-align: inherit;">中相等，那么</font><font style="vertical-align: inherit;">操作员将返回一个新位，该位将设置为</font><font style="vertical-align: inherit;">：
</font></font></p><figure class="figure">
  
  <span class="caption"></span>
  <img src="./Swift编程语言（Swift 4.1）：高级操作符_files/bitwiseOR_2x.png" alt="image：../Art/bitwiseOR_2x.png" width="447" height="208">
</figure><p class="para"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
  在下面的例子中，的值</font></font><code class="code-voice">someBits</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><code class="code-voice">moreBits</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">具有不同的位设置为</font></font><code class="code-voice">1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">按位或运算符将它们组合成数字</font></font><code class="code-voice">11111110</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，该</font><font style="vertical-align: inherit;">数字</font><font style="vertical-align: inherit;">等于无符号十进制数</font></font><code class="code-voice">254</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：
</font></font></p><section class="code-listing">
  
  <div class="code-sample">
      <div class="Swift">
        <ol class="code-lines">
            <li><code class="code-voice"><span class="kt">let</span> <span class="vc">someBits</span>: <span class="n"><!-- a href="" -->UInt8<!-- /a --></span> = <span class="m">0b10110010</span></code></li>
            <li><code class="code-voice"><span class="kt">let</span> <span class="vc">moreBits</span>: <span class="n"><!-- a href="" -->UInt8<!-- /a --></span> = <span class="m">0b01011110</span></code></li>
            <li><code class="code-voice"><span class="kt">let</span> <span class="vc">combinedbits</span> = <span class="vc">someBits</span> | <span class="vc">moreBits</span>  <span class="c">// equals 11111110</span></code></li>
        </ol>
      </div>
  </div>
</section>
  
</section>
<section class="section">
  <a name="//apple_ref/doc/uid/TP40014097-CH27-ID33"></a>
  <h3 class="section-name" tabindex="0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">按位XOR运算符</font></font></h3>
  <p class="para"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
  的</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">按位XOR运算符</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，或“异或运算符”（ </font></font><code class="code-voice">^</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">），</font><font style="vertical-align: inherit;">比较两个数的位。</font><font style="vertical-align: inherit;">运算符返回一个新的数字，其位设置为</font></font><code class="code-voice">1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">输入位不同，并设置为</font></font><code class="code-voice">0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">输入位相同的位置：
</font></font></p><figure class="figure">
  
  <span class="caption"></span>
  <img src="./Swift编程语言（Swift 4.1）：高级操作符_files/bitwiseXOR_2x.png" alt="image：../Art/bitwiseXOR_2x.png" width="447" height="208">
</figure><p class="para"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
  在下面的例子中，</font></font><code class="code-voice">firstBits</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和其中的</font></font><code class="code-voice">otherBits</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">每一个</font><font style="vertical-align: inherit;">的值</font><font style="vertical-align: inherit;">都设置</font></font><code class="code-voice">1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在另一个位置。</font><font style="vertical-align: inherit;">按位XOR运算符将这两个位设置</font></font><code class="code-voice">1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为其输出值。</font><font style="vertical-align: inherit;">所有其他位</font></font><code class="code-voice">firstBits</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><code class="code-voice">otherBits</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">匹配并设置为</font></font><code class="code-voice">0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">输出值：
</font></font></p><section class="code-listing">
  
  <div class="code-sample">
      <div class="Swift">
        <ol class="code-lines">
            <li><code class="code-voice"><span class="kt">let</span> <span class="vc">firstBits</span>: <span class="n"><!-- a href="" -->UInt8<!-- /a --></span> = <span class="m">0b00010100</span></code></li>
            <li><code class="code-voice"><span class="kt">let</span> <span class="vc">otherBits</span>: <span class="n"><!-- a href="" -->UInt8<!-- /a --></span> = <span class="m">0b00000101</span></code></li>
            <li><code class="code-voice"><span class="kt">let</span> <span class="vc">outputBits</span> = <span class="vc">firstBits</span> ^ <span class="vc">otherBits</span>  <span class="c">// equals 00010001</span></code></li>
        </ol>
      </div>
  </div>
</section>
  
</section>
<section class="section">
  <a name="//apple_ref/doc/uid/TP40014097-CH27-ID34"></a>
  <h3 class="section-name" tabindex="0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">按位左右移位运算符</font></font></h3>
  <p class="para"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
  在</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">按位左移位运算符</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font><code class="code-voice">&lt;&lt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）和</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">逐位向右移位运算符</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font><code class="code-voice">&gt;&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）中的数向左或由特定数量的地方向右移动的所有位，根据下面定义的规则。
</font></font></p><p class="para"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
  按位左移和右移具有将整数乘以或除以因子2的效果。</font><font style="vertical-align: inherit;">将一个整数位向左移动一个位置使其值翻倍，而向右移动一个位置则将其值减半。
</font></font></p>
  <section class="section">
  <a name="//apple_ref/doc/uid/TP40014097-CH27-ID35"></a>
  <h3 class="section-name" tabindex="0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">无符号整数的移位行为</font></font></h3>
  <p class="para"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
  无符号整数的位移行为如下所示：
</font></font></p><ol class="list-number">
  <li class="item"><p class="para"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
  现有的位按照请求的位数向左或向右移动。
</font></font></p>
</li><li class="item"><p class="para"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
  丢弃超出整数存储范围的任何位。
</font></font></p>
</li><li class="item"><p class="para"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
  将原始位移动到左侧或右侧后，将零插入左侧空间中。
</font></font></p>
</li>
</ol><p class="para"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
  这种方法被称为</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">逻辑转变</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p><p class="para"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
  下图显示</font></font><code class="code-voice">11111111 &lt;&lt; 1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font><code class="code-voice">11111111</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">按</font></font><code class="code-voice">1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">地点</font><font style="vertical-align: inherit;">向左移动</font><font style="vertical-align: inherit;">）和</font></font><code class="code-voice">11111111 &gt;&gt; 1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font><code class="code-voice">11111111</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">按</font></font><code class="code-voice">1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">地点</font><font style="vertical-align: inherit;">向右移动</font><font style="vertical-align: inherit;">）的结果。</font><font style="vertical-align: inherit;">蓝色的数字被移位，灰色的数字被丢弃，橙色的零被插入：
</font></font></p><figure class="figure">
  
  <span class="caption"></span>
  <img src="./Swift编程语言（Swift 4.1）：高级操作符_files/bitshiftUnsigned_2x.png" alt="image：../Art/bitshiftUnsigned_2x.png" width="649" height="130">
</figure><p class="para"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
  以下是Swift代码中移位的方式：
</font></font></p><section class="code-listing">
  
  <div class="code-sample">
      <div class="Swift">
        <ol class="code-lines">
            <li><code class="code-voice"><span class="kt">let</span> <span class="vc">shiftBits</span>: <span class="n"><!-- a href="" -->UInt8<!-- /a --></span> = <span class="m">4</span>   <span class="c">// 00000100 in binary</span></code></li>
            <li><code class="code-voice"><span class="vc">shiftBits</span> &lt;&lt; <span class="m">1</span>             <span class="c">// 00001000</span></code></li>
            <li><code class="code-voice"><span class="vc">shiftBits</span> &lt;&lt; <span class="m">2</span>             <span class="c">// 00010000</span></code></li>
            <li><code class="code-voice"><span class="vc">shiftBits</span> &lt;&lt; <span class="m">5</span>             <span class="c">// 10000000</span></code></li>
            <li><code class="code-voice"><span class="vc">shiftBits</span> &lt;&lt; <span class="m">6</span>             <span class="c">// 00000000</span></code></li>
            <li><code class="code-voice"><span class="vc">shiftBits</span> &gt;&gt; <span class="m">2</span>             <span class="c">// 00000001</span></code></li>
        </ol>
      </div>
  </div>
</section><p class="para"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
  您可以使用位移对其他数据类型中的值进行编码和解码：
</font></font></p><section class="code-listing">
  
  <div class="code-sample">
      <div class="Swift">
        <ol class="code-lines">
            <li><code class="code-voice"><span class="kt">let</span> <span class="vc">pink</span>: <span class="n"><!-- a href="" -->UInt32<!-- /a --></span> = <span class="m">0xCC6699</span></code></li>
            <li><code class="code-voice"><span class="kt">let</span> <span class="vc">redComponent</span> = (<span class="vc">pink</span> &amp; <span class="m">0xFF0000</span>) &gt;&gt; <span class="m">16</span>    <span class="c">// redComponent is 0xCC, or 204</span></code></li>
            <li><code class="code-voice"><span class="kt">let</span> <span class="vc">greenComponent</span> = (<span class="vc">pink</span> &amp; <span class="m">0x00FF00</span>) &gt;&gt; <span class="m">8</span>   <span class="c">// greenComponent is 0x66, or 102</span></code></li>
            <li><code class="code-voice"><span class="kt">let</span> <span class="vc">blueComponent</span> = <span class="vc">pink</span> &amp; <span class="m">0x0000FF</span>           <span class="c">// blueComponent is 0x99, or 153</span></code></li>
        </ol>
      </div>
  </div>
</section><p class="para"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
  此示例使用</font></font><code class="code-voice">UInt32</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">调用</font><font style="vertical-align: inherit;">的</font><font style="vertical-align: inherit;">常量</font></font><code class="code-voice">pink</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">来为粉红色存储层叠样式表颜色值。</font><font style="vertical-align: inherit;">CSS颜色值</font></font><code class="code-voice">#CC6699</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">按照</font></font><code class="code-voice">0xCC6699</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Swift的十六进制数字表示形式</font><font style="vertical-align: inherit;">写入</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">然后</font><font style="vertical-align: inherit;">通过按位AND运算符（</font><font style="vertical-align: inherit;">）和按位右移运算符（</font><font style="vertical-align: inherit;">）</font><font style="vertical-align: inherit;">将该颜色分解为其红色（</font></font><code class="code-voice">CC</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">），绿色（</font></font><code class="code-voice">66</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）和蓝色（</font></font><code class="code-voice">99</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）分量</font><font style="vertical-align: inherit;">。
</font></font><code class="code-voice">&amp;</code><font style="vertical-align: inherit;"></font><code class="code-voice">&gt;&gt;</code><font style="vertical-align: inherit;"></font></p><p class="para"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
  红色分量是通过在数字</font></font><code class="code-voice">0xCC6699</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font><font style="vertical-align: inherit;">数字之间执行按位“与”来获得的</font></font><code class="code-voice">0xFF0000</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">零</font></font><code class="code-voice">0xFF0000</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">有效地“屏蔽”第二个和第三个字节</font></font><code class="code-voice">0xCC6699</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，导致</font></font><code class="code-voice">6699</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">被忽略并离开</font></font><code class="code-voice">0xCC0000</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">结果。
</font></font></p><p class="para"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
  然后这个数字向右移动16个位置（</font></font><code class="code-voice">&gt;&gt; 16</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）。</font><font style="vertical-align: inherit;">十六进制数字中的每对字符使用8位，因此向右移动16位将转换</font></font><code class="code-voice">0xCC0000</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为</font></font><code class="code-voice">0x0000CC</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">这与</font></font><code class="code-voice">0xCC</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">小数点的值相同</font></font><code class="code-voice">204</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p><p class="para"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
  类似地，绿色成分通过执行按位与数字之间获得</font></font><code class="code-voice">0xCC6699</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><code class="code-voice">0x00FF00</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，其给出的输出值</font></font><code class="code-voice">0x006600</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">这个输出值然后向右移动八个位置，给出</font></font><code class="code-voice">0x66</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">一个十进制值为的值</font></font><code class="code-voice">102</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p><p class="para"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
  最后，将蓝色成分是通过执行按位与数字之间获得</font></font><code class="code-voice">0xCC6699</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><code class="code-voice">0x0000FF</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，其给出的输出值</font></font><code class="code-voice">0x000099</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">没有必要把它转移到右边，因为</font></font><code class="code-voice">0x000099</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">已经等于</font></font><code class="code-voice">0x99</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，它的十进制值是</font></font><code class="code-voice">153</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p>
  
</section>
<section class="section">
  <a name="//apple_ref/doc/uid/TP40014097-CH27-ID36"></a>
  <h3 class="section-name" tabindex="0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">签名整数的移位行为</font></font></h3>
  <p class="para"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
  对于有符号整数，移位行为比无符号整数更复杂，因为有符号整数以二进制表示。</font><font style="vertical-align: inherit;">（为简单起见，以下示例基于8位有符号整数，但相同的原则适用于任何大小的有符号整数。）
</font></font></p><p class="para"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
  带符号的整数使用它们的第一位（称为</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">符号位</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）来指示整数是正数还是负数。</font><font style="vertical-align: inherit;">符号位</font></font><code class="code-voice">0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表示正数，符号位</font></font><code class="code-voice">1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表示负数。
</font></font></p><p class="para"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
  剩余的位（称为</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">值位</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）存储实际值。</font><font style="vertical-align: inherit;">正数与无符号整数的存储方式完全相同，从上向上计数</font></font><code class="code-voice">0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">以下是</font></font><code class="code-voice">Int8</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">查找数字的位数</font></font><code class="code-voice">4</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：
</font></font></p><figure class="figure">
  
  <span class="caption"></span>
  <img src="./Swift编程语言（Swift 4.1）：高级操作符_files/bitshiftSignedFour_2x.png" alt="image：../Art/bitshiftSignedFour_2x.png" width="396" height="99">
</figure><p class="para"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
  符号位是</font></font><code class="code-voice">0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（意思是“正”），并且七个值位仅仅是</font></font><code class="code-voice">4</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用二进制表示法写</font><font style="vertical-align: inherit;">的数字</font><font style="vertical-align: inherit;">。
</font></font></p><p class="para"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
  但是，负数存储的方式不同。</font><font style="vertical-align: inherit;">它们通过从减去它们绝对值存储</font></font><code class="code-voice">2</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">给力</font></font><code class="code-voice">n</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，其中</font></font><code class="code-voice">n</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是值的位数。</font><font style="vertical-align: inherit;">一个八位数有七个数值位，所以这意味着</font></font><code class="code-voice">2</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">权力</font></font><code class="code-voice">7</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，或</font></font><code class="code-voice">128</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p><p class="para"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
  以下是</font></font><code class="code-voice">Int8</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">查找数字的位数</font></font><code class="code-voice">-4</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：
</font></font></p><figure class="figure">
  
  <span class="caption"></span>
  <img src="./Swift编程语言（Swift 4.1）：高级操作符_files/bitshiftSignedMinusFour_2x.png" alt="image：../Art/bitshiftSignedMinusFour_2x.png" width="396" height="99">
</figure><p class="para"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
  这一次，符号位是</font></font><code class="code-voice">1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（意思是“否定的”），并且七个值位具有二进制值</font></font><code class="code-voice">124</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（它是</font></font><code class="code-voice">128 - 4</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）：
</font></font></p><figure class="figure">
  
  <span class="caption"></span>
  <img src="./Swift编程语言（Swift 4.1）：高级操作符_files/bitshiftSignedMinusFourValue_2x.png" alt="image：../Art/bitshiftSignedMinusFourValue_2x.png" width="393" height="85">
</figure><p class="para"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
  这种负数编码被称为</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">二进制补码</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表示法。</font><font style="vertical-align: inherit;">这似乎是一种不寻常的方式来表示负数，但它有几个优点。
</font></font></p><p class="para"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
  首先，您可以添加</font></font><code class="code-voice">-1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">到</font></font><code class="code-voice">-4</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，简单地通过执行一个标准二进制加法全部八个位（包括符号位），并丢弃任何不适合在八位一旦你完成：
</font></font></p><figure class="figure">
  
  <span class="caption"></span>
  <img src="./Swift编程语言（Swift 4.1）：高级操作符_files/bitshiftSignedAddition_2x.png" alt="image：../Art/bitshiftSignedAddition_2x.png" width="446" height="199">
</figure><p class="para"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
  其次，二进制补码表示法还可以让您将负数的位移到正数的左侧和右侧，并且在您向左移动的每个移位时仍然会将其加倍，或者在右移到右侧时将其减半。</font><font style="vertical-align: inherit;">为了达到这个目的，当有符号整数右移时使用额外的规则：当你将有符号整数移到右边时，应用与无符号整数相同的规则，但是用</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">符号位</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">填充左边的空白</font><em><font style="vertical-align: inherit;">位</font></em><font style="vertical-align: inherit;">，而是比零。
</font></font></p><figure class="figure">
  
  <span class="caption"></span>
  <img src="./Swift编程语言（Swift 4.1）：高级操作符_files/bitshiftSigned_2x.png" alt="image：../Art/bitshiftSigned_2x.png" width="649" height="130">
</figure><p class="para"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
  此操作可确保有符号整数在向右移位后具有相同符号，并称为</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">算术移位</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p><p class="para"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
  由于存储正数和负数的特殊方式，将它们中的任何一个移到右边都会使它们靠近零。</font><font style="vertical-align: inherit;">在这种转变过程中保持符号位相同意味着当它们的值接近零时，负整数保持负值。
</font></font></p>
  
</section>

</section>

</section>
<section class="section">
  <a name="//apple_ref/doc/uid/TP40014097-CH27-ID37"></a>
  <h3 class="section-name" tabindex="0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">溢出操作符</font></font></h3>
  <p class="para"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
  如果您尝试将数字插入到不能保存该值的整数常量或变量中，则默认情况下，Swift会报告错误，而不是允许创建无效值。</font><font style="vertical-align: inherit;">当您使用太大或太小的数字时，此行为会提供额外的安全性。
</font></font></p><p class="para"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
  例如，</font></font><code class="code-voice">Int16</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">整数类型可以保存</font></font><code class="code-voice">-32768</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font><font style="vertical-align: inherit;">之间的任何有符号整数</font></font><code class="code-voice">32767</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">尝试将</font></font><code class="code-voice">Int16</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">常量或变量</font><font style="vertical-align: inherit;">设置</font><font style="vertical-align: inherit;">为此范围之外的数字会导致错误：
</font></font></p><section class="code-listing">
  
  <div class="code-sample">
      <div class="Swift">
        <ol class="code-lines">
            <li><code class="code-voice"><span class="kt">var</span> <span class="vc">potentialOverflow</span> = <span class="vc">Int16</span>.<span class="vc">max</span></code></li>
            <li><code class="code-voice"><span class="c">// potentialOverflow equals 32767, which is the maximum value an Int16 can hold</span></code></li>
            <li><code class="code-voice"><span class="vc">potentialOverflow</span> += <span class="m">1</span></code></li>
            <li><code class="code-voice"><span class="c">// this causes an error</span></code></li>
        </ol>
      </div>
  </div>
</section><p class="para"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
  当值变得太大或者太小时提供错误处理在编码边界值条件时给你更大的灵活性。
</font></font></p><p class="para"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
  但是，当您特别想要溢出条件截断可用位数时，可以选择此行为而不是触发错误。</font><font style="vertical-align: inherit;">Swift提供了三个算术</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">溢出运算符</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，它们选择整数计算的溢出行为。</font><font style="vertical-align: inherit;">这些运算符都以“＆”符号开头（</font></font><code class="code-voice">&amp;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）：
</font></font></p><ul class="list-bullet">
  <li class="item"><p class="para"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
  溢出添加（</font></font><code class="code-voice">&amp;+</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）
</font></font></p>
</li><li class="item"><p class="para"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
  溢出减法（</font></font><code class="code-voice">&amp;-</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）
</font></font></p>
</li><li class="item"><p class="para"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
  溢出乘法（</font></font><code class="code-voice">&amp;*</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）
</font></font></p>
</li>
</ul>
  <section class="section">
  <a name="//apple_ref/doc/uid/TP40014097-CH27-ID38"></a>
  <h3 class="section-name" tabindex="0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">值溢出</font></font></h3>
  <p class="para"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
  数字可以在正向和负向两个方向溢出。
</font></font></p><p class="para"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
  下面是一个例子，说明当一个无符号整数被允许在正方向溢出时使用溢出加法运算符（</font></font><code class="code-voice">&amp;+</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）：
</font></font></p><section class="code-listing">
  
  <div class="code-sample">
      <div class="Swift">
        <ol class="code-lines">
            <li><code class="code-voice"><span class="kt">var</span> <span class="vc">unsignedOverflow</span> = <span class="vc">UInt8</span>.<span class="vc">max</span></code></li>
            <li><code class="code-voice"><span class="c">// unsignedOverflow equals 255, which is the maximum value a UInt8 can hold</span></code></li>
            <li><code class="code-voice"><span class="vc">unsignedOverflow</span> = <span class="vc">unsignedOverflow</span> &amp;+ <span class="m">1</span></code></li>
            <li><code class="code-voice"><span class="c">// unsignedOverflow is now equal to 0</span></code></li>
        </ol>
      </div>
  </div>
</section><p class="para"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
  该变量</font></font><code class="code-voice">unsignedOverflow</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以</font></font><code class="code-voice">UInt8</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可容纳</font><font style="vertical-align: inherit;">的最大值</font><font style="vertical-align: inherit;">（</font></font><code class="code-voice">255</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或</font></font><code class="code-voice">11111111</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以二进制形式）进行</font><font style="vertical-align: inherit;">初始化</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">然后通过</font></font><code class="code-voice">1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用溢出加法运算符（</font></font><code class="code-voice">&amp;+</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font><font style="vertical-align: inherit;">来</font><font style="vertical-align: inherit;">递增</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">这会将其二进制表示的大小</font></font><code class="code-voice">UInt8</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">超过其所能容纳</font><font style="vertical-align: inherit;">的大小</font><font style="vertical-align: inherit;">，导致它超出其边界，如下图所示。</font><font style="vertical-align: inherit;">保留在</font></font><code class="code-voice">UInt8</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">溢出添加之后的</font></font><code class="code-voice">00000000</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">值为零，或者为零。
</font></font></p><figure class="figure">
  
  <span class="caption"></span>
  <img src="./Swift编程语言（Swift 4.1）：高级操作符_files/overflowAddition_2x.png" alt="image：../Art/overflowAddition_2x.png" width="486" height="165">
</figure><p class="para"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
  当一个无符号整数被允许向负方向溢出时，会发生类似的情况。</font><font style="vertical-align: inherit;">下面是一个使用溢出减法运算符（</font></font><code class="code-voice">&amp;-</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font><font style="vertical-align: inherit;">的例子</font><font style="vertical-align: inherit;">：
</font></font></p><section class="code-listing">
  
  <div class="code-sample">
      <div class="Swift">
        <ol class="code-lines">
            <li><code class="code-voice"><span class="kt">var</span> <span class="vc">unsignedOverflow</span> = <span class="vc">UInt8</span>.<span class="vc">min</span></code></li>
            <li><code class="code-voice"><span class="c">// unsignedOverflow equals 0, which is the minimum value a UInt8 can hold</span></code></li>
            <li><code class="code-voice"><span class="vc">unsignedOverflow</span> = <span class="vc">unsignedOverflow</span> &amp;- <span class="m">1</span></code></li>
            <li><code class="code-voice"><span class="c">// unsignedOverflow is now equal to 255</span></code></li>
        </ol>
      </div>
  </div>
</section><p class="para"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
  一个</font></font><code class="code-voice">UInt8</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可以容纳</font><font style="vertical-align: inherit;">的最小值</font><font style="vertical-align: inherit;">是零，或者</font></font><code class="code-voice">00000000</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">二进制。</font><font style="vertical-align: inherit;">如果</font></font><code class="code-voice">1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">从</font></font><code class="code-voice">00000000</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用溢出减法运算符（</font></font><code class="code-voice">&amp;-</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）中</font><font style="vertical-align: inherit;">减去</font><font style="vertical-align: inherit;">该数字，则该数字将溢出并绕回</font></font><code class="code-voice">11111111</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，或</font></font><code class="code-voice">255</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以十进制形式。
</font></font></p><figure class="figure">
  
  <span class="caption"></span>
  <img src="./Swift编程语言（Swift 4.1）：高级操作符_files/overflowUnsignedSubtraction_2x.png" alt="image：../Art/overflowUnsignedSubtraction_2x.png" width="486" height="165">
</figure><p class="para"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
  对于有符号整数也会发生溢出。</font><font style="vertical-align: inherit;">有符号整数的所有加法和减法均按位方式执行，符号位作为数字的一部分被添加或减去，如</font></font><span class="x-name"><a href="https://developer.apple.com/library/content/documentation/Swift/Conceptual/Swift_Programming_Language/AdvancedOperators.html#//apple_ref/doc/uid/TP40014097-CH27-ID34" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40014097-CH27-ID34"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">按位左移和右移操作符中所述</font></font></a></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p><section class="code-listing">
  
  <div class="code-sample">
      <div class="Swift">
        <ol class="code-lines">
            <li><code class="code-voice"><span class="kt">var</span> <span class="vc">signedOverflow</span> = <span class="vc">Int8</span>.<span class="vc">min</span></code></li>
            <li><code class="code-voice"><span class="c">// signedOverflow equals -128, which is the minimum value an Int8 can hold</span></code></li>
            <li><code class="code-voice"><span class="vc">signedOverflow</span> = <span class="vc">signedOverflow</span> &amp;- <span class="m">1</span></code></li>
            <li><code class="code-voice"><span class="c">// signedOverflow is now equal to 127</span></code></li>
        </ol>
      </div>
  </div>
</section><p class="para"><font style="vertical-align: inherit;"></font><code class="code-voice">Int8</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可以容纳</font><font style="vertical-align: inherit;">
  的最小值</font><font style="vertical-align: inherit;">是</font></font><code class="code-voice">-128</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或者</font></font><code class="code-voice">10000000</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">二进制。</font></font><code class="code-voice">1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用溢出运算符从这个二进制数中</font><font style="vertical-align: inherit;">减去</font><font style="vertical-align: inherit;">一个二进制值</font></font><code class="code-voice">01111111</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，它将切换符号位并给出肯定的</font></font><code class="code-voice">127</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，即</font></font><code class="code-voice">Int8</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可以容纳</font><font style="vertical-align: inherit;">的最大正值</font><font style="vertical-align: inherit;">。
</font></font></p><figure class="figure">
  
  <span class="caption"></span>
  <img src="./Swift编程语言（Swift 4.1）：高级操作符_files/overflowSignedSubtraction_2x.png" alt="image：../Art/overflowSignedSubtraction_2x.png" width="486" height="199">
</figure><p class="para"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
  对于有符号整数和无符号整数，正向溢出从最大有效整数值回到最小值，负向溢出从最小值回绕到最大值。
</font></font></p>
  
</section>

</section>
<section class="section">
  <a name="//apple_ref/doc/uid/TP40014097-CH27-ID41"></a>
  <h3 class="section-name" tabindex="0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">优先和相关性</font></font></h3>
  <p class="para"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
  运营商</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">优先级</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">给一些运营商比其他运营商更高的优先级 </font><font style="vertical-align: inherit;">首先应用这些运营商。
</font></font></p><p class="para"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
  运算符</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">关联</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">定义了相同优先级的运算符如何组合在一起 - 从左边分组，或从右边分组。</font><font style="vertical-align: inherit;">把它看作是“他们与他们左边的表达联系在一起”的意思，或者“他们把这个表达联系到他们的右边”。
</font></font></p><p class="para"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
  在计算复合表达式的计算顺序时，考虑每个运算符的优先级和相关性非常重要。</font><font style="vertical-align: inherit;">例如，运算符优先级解释了为什么以下表达式等于</font></font><code class="code-voice">17</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p><section class="code-listing">
  
  <div class="code-sample">
      <div class="Swift">
        <ol class="code-lines">
            <li><code class="code-voice"><span class="m">2</span> + <span class="m">3</span> % <span class="m">4</span> * <span class="m">5</span></code></li>
            <li><code class="code-voice"><span class="c">// this equals 17</span></code></li>
        </ol>
      </div>
  </div>
</section><p class="para"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
  如果你严格按照从左到右的顺序阅读，你可能会期望表达式的计算如下：
</font></font></p><ul class="list-bullet">
  <li class="item"><p class="para">
  <code class="code-voice">2</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">加上</font></font><code class="code-voice">3</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">等于</font></font><code class="code-voice">5</code>
</p>
</li><li class="item"><p class="para">
  <code class="code-voice">5</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">余数</font></font><code class="code-voice">4</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">相等</font></font><code class="code-voice">1</code>
</p>
</li><li class="item"><p class="para">
  <code class="code-voice">1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">次数</font></font><code class="code-voice">5</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">等于</font></font><code class="code-voice">5</code>
</p>
</li>
</ul><p class="para"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
  但是，实际的答案是</font></font><code class="code-voice">17</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，不是</font></font><code class="code-voice">5</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">高优先级运算符在低优先级运算符之前进行评估。</font><font style="vertical-align: inherit;">在Swift中，与C中一样，余数运算符（</font></font><code class="code-voice">%</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）和乘法运算符（</font></font><code class="code-voice">*</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）具有比加法运算符（</font></font><code class="code-voice">+</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font><font style="vertical-align: inherit;">更高的优先级</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">因此，在考虑添加之前对它们进行评估。
</font></font></p><p class="para"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
  但是，余数和乘法具有</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">相同的</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">优先级。</font><font style="vertical-align: inherit;">要计算出要使用的确切评估顺序，还需要考虑它们的关联性。</font><font style="vertical-align: inherit;">剩余和乘法都与左边的表达联系在一起。</font><font style="vertical-align: inherit;">把它看作是从表达式的这些部分开始，从左边开始添加隐式圆括号：
</font></font></p><section class="code-listing">
  
  <div class="code-sample">
      <div class="Swift">
        <ol class="code-lines">
            <li><code class="code-voice"><span class="m">2</span> + ((<span class="m">3</span> % <span class="m">4</span>) * <span class="m">5</span>)</code></li>
        </ol>
      </div>
  </div>
</section><p class="para">
  <code class="code-voice">(3 % 4)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font></font><code class="code-voice">3</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，所以这相当于：
</font></font></p><section class="code-listing">
  
  <div class="code-sample">
      <div class="Swift">
        <ol class="code-lines">
            <li><code class="code-voice"><span class="m">2</span> + (<span class="m">3</span> * <span class="m">5</span>)</code></li>
        </ol>
      </div>
  </div>
</section><p class="para">
  <code class="code-voice">(3 * 5)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是</font></font><code class="code-voice">15</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，所以这相当于：
</font></font></p><section class="code-listing">
  
  <div class="code-sample">
      <div class="Swift">
        <ol class="code-lines">
            <li><code class="code-voice"><span class="m">2</span> + <span class="m">15</span></code></li>
        </ol>
      </div>
  </div>
</section><p class="para"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
  这个计算得出最终答案</font></font><code class="code-voice">17</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p><p class="para"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
  有关Swift标准库提供的运算符的信息，包括运算符优先级组和关联设置的完整列表，请参阅</font></font><a href="https://developer.apple.com/documentation/swift/operator_declarations"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">运算符声明</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p><div class="note">
  <a name="//apple_ref/doc/uid/TP40014097-CH27-NoLink_206"></a>
  <aside class="aside">
    <p class="aside-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注意
    </font></font></p>
    	<p class="para"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Swift的运算符优先级和关联性规则比C和Objective-C中的那些规则更简单和更可预测。</font><font style="vertical-align: inherit;">但是，这意味着它们与基于C的语言不完全相同。</font><font style="vertical-align: inherit;">注意确保操作符交互仍然按照您将现有代码移植到Swift时的方式运行。
    	</font></font></p>
    
  </aside>
</div>
  
</section>
<section class="section">
  <a name="//apple_ref/doc/uid/TP40014097-CH27-ID42"></a>
  <h3 class="section-name" tabindex="0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">运算符方法</font></font></h3>
  <p class="para"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
  类和结构可以提供他们自己的现有操作符的实现。</font><font style="vertical-align: inherit;">这被称为</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">重载</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">现有的操作员。
</font></font></p><p class="para"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
  下面的例子显示了如何</font></font><code class="code-voice">+</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为自定义结构</font><font style="vertical-align: inherit;">实现算术加法运算符（</font><font style="vertical-align: inherit;">）。</font><font style="vertical-align: inherit;">算术加法运算符是一个</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">二元运算符，</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">因为它在两个目标上运行，并且被称为中</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">缀，</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">因为它出现在这两个目标之间。
</font></font></p><p class="para"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
  该示例定义了</font></font><code class="code-voice">Vector2D</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">一个二维位置向量的结构</font></font><code class="code-voice">(x, y)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，后面跟着一个</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">运算符方法</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的定义，以</font><font style="vertical-align: inherit;">将该</font></font><code class="code-voice">Vector2D</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">结构的</font><font style="vertical-align: inherit;">实例添加到一起</font><font style="vertical-align: inherit;">：
</font></font></p><section class="code-listing">
  
  <div class="code-sample">
      <div class="Swift">
        <ol class="code-lines">
            <li><code class="code-voice"><span class="kt">struct</span> <span class="vc">Vector2D</span> {</code></li>
            <li><code class="code-voice">    <span class="kt">var</span> <span class="vc">x</span> = <span class="m">0.0</span>, <span class="vc">y</span> = <span class="m">0.0</span></code></li>
            <li><code class="code-voice">}</code></li>
            <li><code class="code-voice"> </code></li>
            <li><code class="code-voice"><span class="kt">extension</span> <span class="n"><!-- a href="" -->Vector2D<!-- /a --></span> {</code></li>
            <li><code class="code-voice">    <span class="kt">static</span> <span class="kt">func</span> + (<span class="vc">left</span>: <span class="n"><!-- a href="" -->Vector2D<!-- /a --></span>, <span class="vc">right</span>: <span class="n"><!-- a href="" -->Vector2D<!-- /a --></span>) -&gt; <span class="n"><!-- a href="" -->Vector2D<!-- /a --></span> {</code></li>
            <li><code class="code-voice">        <span class="kt">return</span> <span class="vc">Vector2D</span>(<span class="vc">x</span>: <span class="vc">left</span>.<span class="vc">x</span> + <span class="vc">right</span>.<span class="vc">x</span>, <span class="vc">y</span>: <span class="vc">left</span>.<span class="vc">y</span> + <span class="vc">right</span>.<span class="vc">y</span>)</code></li>
            <li><code class="code-voice">    }</code></li>
            <li><code class="code-voice">}</code></li>
        </ol>
      </div>
  </div>
</section><p class="para"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
  运算符方法被定义为一个类型方法</font></font><code class="code-voice">Vector2D</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，方法名称与运算符重载（</font></font><code class="code-voice">+</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font><font style="vertical-align: inherit;">相匹配</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">由于添加不是矢量的基本行为的一部分，所以类型方法是在扩展</font></font><code class="code-voice">Vector2D</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">而不是在主结构声明中定义的</font></font><code class="code-voice">Vector2D</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">由于算术加法运算符是二元运算符，因此此运算符方法接受两个输入参数类型</font></font><code class="code-voice">Vector2D</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">并返回单个输出值，也是类型</font></font><code class="code-voice">Vector2D</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p><p class="para"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
  在这个实现中，输入参数被命名</font></font><code class="code-voice">left</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">并且</font></font><code class="code-voice">right</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表示</font></font><code class="code-voice">Vector2D</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将在</font></font><code class="code-voice">+</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">操作符</font><font style="vertical-align: inherit;">的左侧和右侧</font><font style="vertical-align: inherit;">的</font><font style="vertical-align: inherit;">实例</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">该方法返回一个新</font></font><code class="code-voice">Vector2D</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">实例，其</font></font><code class="code-voice">x</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><code class="code-voice">y</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">性质随的总和被初始化</font></font><code class="code-voice">x</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">并且</font></font><code class="code-voice">y</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">从两个属性</font></font><code class="code-voice">Vector2D</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，它们加到一起实例。
</font></font></p><p class="para"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
  类型方法可以用作现有</font></font><code class="code-voice">Vector2D</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">实例</font><font style="vertical-align: inherit;">之间的中缀运算符</font><font style="vertical-align: inherit;">：
</font></font></p><section class="code-listing">
  
  <div class="code-sample">
      <div class="Swift">
        <ol class="code-lines">
            <li><code class="code-voice"><span class="kt">let</span> <span class="vc">vector</span> = <span class="vc">Vector2D</span>(<span class="vc">x</span>: <span class="m">3.0</span>, <span class="vc">y</span>: <span class="m">1.0</span>)</code></li>
            <li><code class="code-voice"><span class="kt">let</span> <span class="vc">anotherVector</span> = <span class="vc">Vector2D</span>(<span class="vc">x</span>: <span class="m">2.0</span>, <span class="vc">y</span>: <span class="m">4.0</span>)</code></li>
            <li><code class="code-voice"><span class="kt">let</span> <span class="vc">combinedVector</span> = <span class="vc">vector</span> + <span class="vc">anotherVector</span></code></li>
            <li><code class="code-voice"><span class="c">// combinedVector is a Vector2D instance with values of (5.0, 5.0)</span></code></li>
        </ol>
      </div>
  </div>
</section><p class="para"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
  这个例子将这些向量加起来</font></font><code class="code-voice">(3.0, 1.0)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">并</font></font><code class="code-voice">(2.0, 4.0)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">构成向量</font></font><code class="code-voice">(5.0, 5.0)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，如下所示。
</font></font></p><figure class="figure">
  
  <span class="caption"></span>
  <img src="./Swift编程语言（Swift 4.1）：高级操作符_files/vectorAddition_2x.png" alt="image：../Art/vectorAddition_2x.png" width="387" height="387">
</figure>
  <section class="section">
  <a name="//apple_ref/doc/uid/TP40014097-CH27-ID43"></a>
  <h3 class="section-name" tabindex="0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">前缀和后缀运算符</font></font></h3>
  <p class="para"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
  上面显示的示例演示了二进制中缀运算符的自定义实现。</font><font style="vertical-align: inherit;">类和结构也可以提供标准</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">一元运算符的实现</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">一元操作符在单个目标上操作。</font><font style="vertical-align: inherit;">他们是</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">前缀</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，如果他们先于他们的目标（如</font></font><code class="code-voice">-a</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）和</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">后缀</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">运营商，如果他们遵循自己的目标（如</font></font><code class="code-voice">b!</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）。
</font></font></p><p class="para"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在声明操作符方法时，</font><font style="vertical-align: inherit;">通过在</font><font style="vertical-align: inherit;">关键字</font><font style="vertical-align: inherit;">之前</font><font style="vertical-align: inherit;">
  写入</font></font><code class="code-voice">prefix</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或</font></font><code class="code-voice">postfix</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">修饰符来</font><font style="vertical-align: inherit;">实现前缀或后缀一元运算</font></font><code class="code-voice">func</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">符：
</font></font></p><section class="code-listing">
  
  <div class="code-sample">
      <div class="Swift">
        <ol class="code-lines">
            <li><code class="code-voice"><span class="kt">extension</span> <span class="n"><!-- a href="" -->Vector2D<!-- /a --></span> {</code></li>
            <li><code class="code-voice">    <span class="kt">static</span> <span class="kt">prefix</span> <span class="kt">func</span> - (<span class="vc">vector</span>: <span class="n"><!-- a href="" -->Vector2D<!-- /a --></span>) -&gt; <span class="n"><!-- a href="" -->Vector2D<!-- /a --></span> {</code></li>
            <li><code class="code-voice">        <span class="kt">return</span> <span class="vc">Vector2D</span>(<span class="vc">x</span>: -<span class="vc">vector</span>.<span class="vc">x</span>, <span class="vc">y</span>: -<span class="vc">vector</span>.<span class="vc">y</span>)</code></li>
            <li><code class="code-voice">    }</code></li>
            <li><code class="code-voice">}</code></li>
        </ol>
      </div>
  </div>
</section><p class="para"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
  上面的例子</font></font><code class="code-voice">-a</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为</font></font><code class="code-voice">Vector2D</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">实例</font><font style="vertical-align: inherit;">实现了一元减运算符（</font><font style="vertical-align: inherit;">）</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">一元减号运算符是一个前缀运算符，因此该方法必须使用</font></font><code class="code-voice">prefix</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">修饰符</font><font style="vertical-align: inherit;">进行限定</font><font style="vertical-align: inherit;">。
</font></font></p><p class="para"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
  对于简单的数值，单目减号运算符将正数转换为负数，反之亦然。</font></font><code class="code-voice">Vector2D</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">实例</font><font style="vertical-align: inherit;">的相应实现对</font></font><code class="code-voice">x</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><code class="code-voice">y</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">属性</font><font style="vertical-align: inherit;">都执行此操作</font><font style="vertical-align: inherit;">：
</font></font></p><section class="code-listing">
  
  <div class="code-sample">
      <div class="Swift">
        <ol class="code-lines">
            <li><code class="code-voice"><span class="kt">let</span> <span class="vc">positive</span> = <span class="vc">Vector2D</span>(<span class="vc">x</span>: <span class="m">3.0</span>, <span class="vc">y</span>: <span class="m">4.0</span>)</code></li>
            <li><code class="code-voice"><span class="kt">let</span> <span class="vc">negative</span> = -<span class="vc">positive</span></code></li>
            <li><code class="code-voice"><span class="c">// negative is a Vector2D instance with values of (-3.0, -4.0)</span></code></li>
            <li><code class="code-voice"><span class="kt">let</span> <span class="vc">alsoPositive</span> = -<span class="vc">negative</span></code></li>
            <li><code class="code-voice"><span class="c">// alsoPositive is a Vector2D instance with values of (3.0, 4.0)</span></code></li>
        </ol>
      </div>
  </div>
</section>
  
</section>
<section class="section">
  <a name="//apple_ref/doc/uid/TP40014097-CH27-ID44"></a>
  <h3 class="section-name" tabindex="0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">复合分配算子</font></font></h3>
  <p class="para">
  <em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">复合赋值操作符</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将assignment（</font></font><code class="code-voice">=</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）与另一个操作</font><font style="vertical-align: inherit;">组合在一起 </font><font style="vertical-align: inherit;">例如，添加赋值运算符（</font></font><code class="code-voice">+=</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）将添加和赋值组合到一个单独的操作中。</font><font style="vertical-align: inherit;">您将复合赋值运算符的左输入参数类型标记为</font></font><code class="code-voice">inout</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，因为该参数的值将直接从运算符方法中修改。
</font></font></p><p class="para"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
  下面的例子为</font></font><code class="code-voice">Vector2D</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">实例</font><font style="vertical-align: inherit;">实现了一个添加赋值操作符方法</font><font style="vertical-align: inherit;">：
</font></font></p><section class="code-listing">
  
  <div class="code-sample">
      <div class="Swift">
        <ol class="code-lines">
            <li><code class="code-voice"><span class="kt">extension</span> <span class="n"><!-- a href="" -->Vector2D<!-- /a --></span> {</code></li>
            <li><code class="code-voice">    <span class="kt">static</span> <span class="kt">func</span> += (<span class="vc">left</span>: <span class="kt">inout</span> <span class="n"><!-- a href="" -->Vector2D<!-- /a --></span>, <span class="vc">right</span>: <span class="n"><!-- a href="" -->Vector2D<!-- /a --></span>) {</code></li>
            <li><code class="code-voice">        <span class="vc">left</span> = <span class="vc">left</span> + <span class="vc">right</span></code></li>
            <li><code class="code-voice">    }</code></li>
            <li><code class="code-voice">}</code></li>
        </ol>
      </div>
  </div>
</section><p class="para"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
  由于添加运算符的定义较早，因此不需要在此重新实现添加过程。</font><font style="vertical-align: inherit;">相反，添加赋值运算符方法利用了现有的添加运算符方法，并使用它将左值设置为左值和右值：
</font></font></p><section class="code-listing">
  
  <div class="code-sample">
      <div class="Swift">
        <ol class="code-lines">
            <li><code class="code-voice"><span class="kt">var</span> <span class="vc">original</span> = <span class="vc">Vector2D</span>(<span class="vc">x</span>: <span class="m">1.0</span>, <span class="vc">y</span>: <span class="m">2.0</span>)</code></li>
            <li><code class="code-voice"><span class="kt">let</span> <span class="vc">vectorToAdd</span> = <span class="vc">Vector2D</span>(<span class="vc">x</span>: <span class="m">3.0</span>, <span class="vc">y</span>: <span class="m">4.0</span>)</code></li>
            <li><code class="code-voice"><span class="vc">original</span> += <span class="vc">vectorToAdd</span></code></li>
            <li><code class="code-voice"><span class="c">// original now has values of (4.0, 6.0)</span></code></li>
        </ol>
      </div>
  </div>
</section><div class="note">
  <a name="//apple_ref/doc/uid/TP40014097-CH27-NoLink_207"></a>
  <aside class="aside">
    <p class="aside-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注意
    </font></font></p>
    	<p class="para"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">不能使默认赋值运算符（</font></font><code class="code-voice">=</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font><font style="vertical-align: inherit;">过载</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">只有复合赋值运算符可以被重载。</font><font style="vertical-align: inherit;">同样，三元条件运算符（</font></font><code class="code-voice">a ? b : c</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）也不能重载。
    	</font></font></p>
    
  </aside>
</div>
  
</section>
<section class="section">
  <a name="//apple_ref/doc/uid/TP40014097-CH27-ID45"></a>
  <h3 class="section-name" tabindex="0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">等价算子</font></font></h3>
  <p class="para"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
  自定义类和结构不会收到</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">等价运算符</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的默认实现</font><font style="vertical-align: inherit;">，称为“等于”运算符（</font></font><code class="code-voice">==</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）和“不等于”运算符（</font></font><code class="code-voice">!=</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）。</font><font style="vertical-align: inherit;">Swift不可能猜测你自定义类型的“平等”，因为“平等”的含义取决于这些类型在你的代码中扮演的角色。
</font></font></p><p class="para"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
  要使用等价运算符来检查自定义类型的等价性，请按照与其他中缀运算符相同的方式提供运算符的实现：
</font></font></p><section class="code-listing">
  
  <div class="code-sample">
      <div class="Swift">
        <ol class="code-lines">
            <li><code class="code-voice"><span class="kt">extension</span> <span class="n"><!-- a href="" -->Vector2D<!-- /a --></span> {</code></li>
            <li><code class="code-voice">    <span class="kt">static</span> <span class="kt">func</span> == (<span class="vc">left</span>: <span class="n"><!-- a href="" -->Vector2D<!-- /a --></span>, <span class="vc">right</span>: <span class="n"><!-- a href="" -->Vector2D<!-- /a --></span>) -&gt; <span class="n"><!-- a href="" -->Bool<!-- /a --></span> {</code></li>
            <li><code class="code-voice">        <span class="kt">return</span> (<span class="vc">left</span>.<span class="vc">x</span> == <span class="vc">right</span>.<span class="vc">x</span>) &amp;&amp; (<span class="vc">left</span>.<span class="vc">y</span> == <span class="vc">right</span>.<span class="vc">y</span>)</code></li>
            <li><code class="code-voice">    }</code></li>
            <li><code class="code-voice">    <span class="kt">static</span> <span class="kt">func</span> != (<span class="vc">left</span>: <span class="n"><!-- a href="" -->Vector2D<!-- /a --></span>, <span class="vc">right</span>: <span class="n"><!-- a href="" -->Vector2D<!-- /a --></span>) -&gt; <span class="n"><!-- a href="" -->Bool<!-- /a --></span> {</code></li>
            <li><code class="code-voice">        <span class="kt">return</span> !(<span class="vc">left</span> == <span class="vc">right</span>)</code></li>
            <li><code class="code-voice">    }</code></li>
            <li><code class="code-voice">}</code></li>
        </ol>
      </div>
  </div>
</section><p class="para"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
  上面的例子实现了一个“等于”运算符（</font></font><code class="code-voice">==</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）来检查两个</font></font><code class="code-voice">Vector2D</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">实例是否有等价值。</font><font style="vertical-align: inherit;">在上下文中</font></font><code class="code-voice">Vector2D</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，将“相等”视为“两个实例具有相同的</font></font><code class="code-voice">x</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">值和</font></font><code class="code-voice">y</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">值” </font><font style="vertical-align: inherit;">意义是合理的</font><font style="vertical-align: inherit;">，因此这是操作员实现所使用的逻辑。</font><font style="vertical-align: inherit;">该示例还实现了“不等于”运算符（</font></font><code class="code-voice">!=</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">），该</font><font style="vertical-align: inherit;">运算符</font><font style="vertical-align: inherit;">只返回“等于”运算符结果的逆。
</font></font></p><p class="para"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
  您现在可以使用这些运算符来检查两个</font></font><code class="code-voice">Vector2D</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">实例是否相同：
</font></font></p><section class="code-listing">
  
  <div class="code-sample">
      <div class="Swift">
        <ol class="code-lines">
            <li><code class="code-voice"><span class="kt">let</span> <span class="vc">twoThree</span> = <span class="vc">Vector2D</span>(<span class="vc">x</span>: <span class="m">2.0</span>, <span class="vc">y</span>: <span class="m">3.0</span>)</code></li>
            <li><code class="code-voice"><span class="kt">let</span> <span class="vc">anotherTwoThree</span> = <span class="vc">Vector2D</span>(<span class="vc">x</span>: <span class="m">2.0</span>, <span class="vc">y</span>: <span class="m">3.0</span>)</code></li>
            <li><code class="code-voice"><span class="kt">if</span> <span class="vc">twoThree</span> == <span class="vc">anotherTwoThree</span> {</code></li>
            <li><code class="code-voice">    <span class="vc">print</span>(<span class="s">"These two vectors are equivalent."</span>)</code></li>
            <li><code class="code-voice">}</code></li>
            <li><code class="code-voice"><span class="c">// Prints "These two vectors are equivalent."</span></code></li>
        </ol>
      </div>
  </div>
</section>
  
</section>

</section>
<section class="section">
  <a name="//apple_ref/doc/uid/TP40014097-CH27-ID46"></a>
  <h3 class="section-name" tabindex="0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">自定义操作符</font></font></h3>
  <p class="para"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">除了Swift提供的标准运算符之外，</font><font style="vertical-align: inherit;">
  您还可以声明和实现自己的</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">自定义运算</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">符。</font><font style="vertical-align: inherit;">有关可用于定义自定义运算符的字符列表，请参阅</font></font><span class="x-name"><a href="https://developer.apple.com/library/content/documentation/Swift/Conceptual/Swift_Programming_Language/LexicalStructure.html#//apple_ref/doc/uid/TP40014097-CH30-ID418" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40014097-CH30-ID418"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">运算符</font></font></a></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p><p class="para"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
  新的运营商使用的是在全球范围内声明的</font></font><code class="code-voice">operator</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">关键字，并且都标有</font></font><code class="code-voice">prefix</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><code class="code-voice">infix</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或</font></font><code class="code-voice">postfix</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">修饰：
</font></font></p><section class="code-listing">
  
  <div class="code-sample">
      <div class="Swift">
        <ol class="code-lines">
            <li><code class="code-voice"><span class="kt">prefix</span> <span class="kt">operator</span> +++</code></li>
        </ol>
      </div>
  </div>
</section><p class="para"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
  上面的例子定义了一个新的前缀运算符</font></font><code class="code-voice">+++</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">此运算符在Swift中没有现有含义，因此在使用</font></font><code class="code-voice">Vector2D</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">实例</font><font style="vertical-align: inherit;">的特定上下文中给出它自己的自定义含义</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">就本例而言，</font></font><code class="code-voice">+++</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">被视为新的“前缀加倍”运算符。</font><font style="vertical-align: inherit;">它</font><font style="vertical-align: inherit;">通过使用前面定义的附加赋值运算符将向量添加到自身来使实例的</font><font style="vertical-align: inherit;">值</font></font><code class="code-voice">x</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><code class="code-voice">y</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">值</font><font style="vertical-align: inherit;">加倍</font></font><code class="code-voice">Vector2D</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">要实现该</font></font><code class="code-voice">+++</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">运算符，需要添加一个名为</font></font><code class="code-voice">+++</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">to </font><font style="vertical-align: inherit;">的类型方法</font></font><code class="code-voice">Vector2D</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，如下所示：
</font></font></p><section class="code-listing">
  
  <div class="code-sample">
      <div class="Swift">
        <ol class="code-lines">
            <li><code class="code-voice"><span class="kt">extension</span> <span class="n"><!-- a href="" -->Vector2D<!-- /a --></span> {</code></li>
            <li><code class="code-voice">    <span class="kt">static</span> <span class="kt">prefix</span> <span class="kt">func</span> +++ (<span class="vc">vector</span>: <span class="kt">inout</span> <span class="n"><!-- a href="" -->Vector2D<!-- /a --></span>) -&gt; <span class="n"><!-- a href="" -->Vector2D<!-- /a --></span> {</code></li>
            <li><code class="code-voice">        <span class="vc">vector</span> += <span class="vc">vector</span></code></li>
            <li><code class="code-voice">        <span class="kt">return</span> <span class="vc">vector</span></code></li>
            <li><code class="code-voice">    }</code></li>
            <li><code class="code-voice">}</code></li>
            <li><code class="code-voice"> </code></li>
            <li><code class="code-voice"><span class="kt">var</span> <span class="vc">toBeDoubled</span> = <span class="vc">Vector2D</span>(<span class="vc">x</span>: <span class="m">1.0</span>, <span class="vc">y</span>: <span class="m">4.0</span>)</code></li>
            <li><code class="code-voice"><span class="kt">let</span> <span class="vc">afterDoubling</span> = +++<span class="vc">toBeDoubled</span></code></li>
            <li><code class="code-voice"><span class="c">// toBeDoubled now has values of (2.0, 8.0)</span></code></li>
            <li><code class="code-voice"><span class="c">// afterDoubling also has values of (2.0, 8.0)</span></code></li>
        </ol>
      </div>
  </div>
</section>
  <section class="section">
  <a name="//apple_ref/doc/uid/TP40014097-CH27-ID47"></a>
  <h3 class="section-name" tabindex="0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">自定义中缀操作符的优先级</font></font></h3>
  <p class="para"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
  自定义中缀运算符都属于一个优先组。</font><font style="vertical-align: inherit;">优先组指定运算符相对于其他中缀运算符的优先级，以及运算符的关联性。</font><font style="vertical-align: inherit;">有关</font><font style="vertical-align: inherit;">这些特征如何影响中缀操作员与其他中缀操作员的交互的说明，</font><font style="vertical-align: inherit;">请参阅</font></font><span class="x-name"><a href="https://developer.apple.com/library/content/documentation/Swift/Conceptual/Swift_Programming_Language/AdvancedOperators.html#//apple_ref/doc/uid/TP40014097-CH27-ID41" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40014097-CH27-ID41"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">优先级和关联性</font></font></a></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p><p class="para"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
  未明确放置到优先组中的自定义中缀运算符被赋予一个优先级高于三元条件运算符优先级的默认优先级组。
</font></font></p><p class="para"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
  以下示例定义了一个名为的新自定义中缀运算符</font></font><code class="code-voice">+-</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，它属于优先级组</font></font><code class="code-voice">AdditionPrecedence</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：
</font></font></p><section class="code-listing">
  
  <div class="code-sample">
      <div class="Swift">
        <ol class="code-lines">
            <li><code class="code-voice"><span class="kt">infix</span> <span class="kt">operator</span> +-: <span class="vc">AdditionPrecedence</span></code></li>
            <li><code class="code-voice"><span class="kt">extension</span> <span class="n"><!-- a href="" -->Vector2D<!-- /a --></span> {</code></li>
            <li><code class="code-voice">    <span class="kt">static</span> <span class="kt">func</span> +- (<span class="vc">left</span>: <span class="n"><!-- a href="" -->Vector2D<!-- /a --></span>, <span class="vc">right</span>: <span class="n"><!-- a href="" -->Vector2D<!-- /a --></span>) -&gt; <span class="n"><!-- a href="" -->Vector2D<!-- /a --></span> {</code></li>
            <li><code class="code-voice">        <span class="kt">return</span> <span class="vc">Vector2D</span>(<span class="vc">x</span>: <span class="vc">left</span>.<span class="vc">x</span> + <span class="vc">right</span>.<span class="vc">x</span>, <span class="vc">y</span>: <span class="vc">left</span>.<span class="vc">y</span> - <span class="vc">right</span>.<span class="vc">y</span>)</code></li>
            <li><code class="code-voice">    }</code></li>
            <li><code class="code-voice">}</code></li>
            <li><code class="code-voice"><span class="kt">let</span> <span class="vc">firstVector</span> = <span class="vc">Vector2D</span>(<span class="vc">x</span>: <span class="m">1.0</span>, <span class="vc">y</span>: <span class="m">2.0</span>)</code></li>
            <li><code class="code-voice"><span class="kt">let</span> <span class="vc">secondVector</span> = <span class="vc">Vector2D</span>(<span class="vc">x</span>: <span class="m">3.0</span>, <span class="vc">y</span>: <span class="m">4.0</span>)</code></li>
            <li><code class="code-voice"><span class="kt">let</span> <span class="vc">plusMinusVector</span> = <span class="vc">firstVector</span> +- <span class="vc">secondVector</span></code></li>
            <li><code class="code-voice"><span class="c">// plusMinusVector is a Vector2D instance with values of (4.0, -2.0)</span></code></li>
        </ol>
      </div>
  </div>
</section><p class="para"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
  该运算符将</font></font><code class="code-voice">x</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">两个向量</font><font style="vertical-align: inherit;">的</font><font style="vertical-align: inherit;">值</font><font style="vertical-align: inherit;">相加</font><font style="vertical-align: inherit;">，并</font></font><code class="code-voice">y</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">从第一个向量中</font><font style="vertical-align: inherit;">减去</font><font style="vertical-align: inherit;">第二个向量</font><font style="vertical-align: inherit;">的</font><font style="vertical-align: inherit;">值。</font><font style="vertical-align: inherit;">因为它本质上是一个“加法”运算符，所以它被赋予与加法运算符如</font></font><code class="code-voice">+</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font><font style="vertical-align: inherit;">的相同的优先级组</font></font><code class="code-voice">-</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">有关Swift标准库提供的运算符的信息，包括运算符优先级组和关联设置的完整列表，请参阅</font></font><a href="https://developer.apple.com/documentation/swift/operator_declarations"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">运算符声明</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">有关优先级组的更多信息，并查看定义您自己的运算符和优先级组的语法，请参阅</font></font><span class="x-name"><a href="https://developer.apple.com/library/content/documentation/Swift/Conceptual/Swift_Programming_Language/Declarations.html#//apple_ref/doc/uid/TP40014097-CH34-ID380" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40014097-CH34-ID380"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">运算符声明</font></font></a></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
</font></font></p><div class="note">
  <a name="//apple_ref/doc/uid/TP40014097-CH27-NoLink_208"></a>
  <aside class="aside">
    <p class="aside-title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注意
    </font></font></p>
    	<p class="para"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">定义前缀或后缀运算符时，不要指定优先顺序。</font><font style="vertical-align: inherit;">但是，如果将前缀和后缀运算符应用于相同的操作数，则首先应用后缀运算符。
    	</font></font></p>
    
  </aside>
</div>
  
</section>

</section>

  	
 	<section id="next_previous" class="">
    		<p class="previous-link"><a href="https://developer.apple.com/library/content/documentation/Swift/Conceptual/Swift_Programming_Language/AccessControl.html#//apple_ref/doc/uid/TP40014097-CH41-ID3" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40014097-CH41-ID3"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">访问控制</font></font></a></p>
  			<p class="next-link"><a href="https://developer.apple.com/library/content/documentation/Swift/Conceptual/Swift_Programming_Language/AboutTheLanguageReference.html#//apple_ref/doc/uid/TP40014097-CH29-ID345" data-renderer-version="2" data-id="//apple_ref/doc/uid/TP40014097-CH29-ID345"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">关于语言参考</font></font></a></p>

    <p class="copyright"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Copyright©2018 Apple Inc.保留所有权利。 
  </font></font><a class="link" href="http://www.apple.com/legal/terms/site.html" target="_blank" rel="external"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用条款</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> | 
  </font></font><a class="link" href="http://www.apple.com/privacy/" target="_blank" rel="external"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">隐私政策</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> | </font><font style="vertical-align: inherit;">更新日期：2018-02-20
</font></font></p>
  </section>
</article>

    </div>
    <div id="big_button"></div>
    <footer id="footer">
  <div class="content-wrapper">
  	<div id="leave_feedback" class="button" role="button" tabindex="0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">反馈</font></font></div>
  </div>
  <script src="./Swift编程语言（Swift 4.1）：高级操作符_files/devpubs-1.6.3.js" type="text/javascript" charset="utf-8"></script>
  <script src="./Swift编程语言（Swift 4.1）：高级操作符_files/feedback-1.6.3.js" type="text/javascript" charset="utf-8"></script>
  <div id="_omniture_top">
<!-- SiteCatalyst code version: H.8. Copyright 1997-2006 Omniture, Inc. -->
<script type="text/javascript">
/* RSID: */
var s_account="appleglobal,appleusdeveloper,dappdeveloperlib"
</script>

<script type="text/javascript" src="./Swift编程语言（Swift 4.1）：高级操作符_files/s_code_h.js"></script>
<script type="text/javascript">
s.pageName=AC.Tracking.pageName();
s.channel="www.us.developer"

/************* DO NOT ALTER ANYTHING BELOW THIS LINE ! **************/
var s_code=s.t();if(s_code)document.write(s_code)</script>
<!-- End SiteCatalyst code version: H.8. -->
</div>

</footer>

    
  
    <div id="blackout">
    <div id="preload"></div>
</div>
<div id="modal" aria-hidden="true">
    <div id="closebox" tabindex="0" aria-label="Close feedback form" role="button"></div>
    <div id="sending" class="hidden">
        <h2 tabindex="0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">发送反馈...</font></font></h2>
        <div id="sending_img"></div>
    </div>
    <div id="error" class="hidden">
        <h2 tabindex="0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们很抱歉发生了错误。</font></font></h2>
        <p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">请稍后尝试提交您的反馈。</font></font></p>
        <div id="error_icon"></div>
    </div>
    <div id="success" class="hidden">
        <h2 tabindex="0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">感谢您提供反馈！</font></font></h2>
        <p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">您的意见有助于改进我们的开发者文档</font></font></p>
        <div id="thank_you_icon"></div>
    </div>
    
    <form id="feedback" action="https://developer.apple.com/library/content/documentation/Swift/Conceptual/Swift_Programming_Language/AdvancedOperators.html#" method="post">
        <div class="left-leaf">
            <h2 id="helpful_title" data-asterisk="a1" tabindex="0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这份文件有多大帮助？</font></font></h2>     
            <sup id="a1" class="asterisk" aria-hidden="true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">*</font></font></sup>

            <div id="star_group" role="radiogroup" aria-required="true">
                <label> 
                    <input class="radio" type="radio" name="helped" value="1"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
                    很有帮助
                </font></font></label>
                <label> 
                    <input class="radio" type="radio" name="helped" value="2"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
                    有点帮助
                </font></font></label>
                <label>
                    <input class="radio" type="radio" name="helped" value="3"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
                    没有帮助
                </font></font></label>
            </div>
        </div>
        <div class="right-leaf">
            <h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们如何改进这个文件？</font></font></h2>
            <div id="improve" class="checkboxes">
                <label>
                    <input type="checkbox" name="typo"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
                    修正错别字或链接
                </font></font></label>
                <label>
                    <input type="checkbox" name="infoIncorrect"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
                    修正错误的信息
                </font></font></label>
                <label>
                    <input type="checkbox" name="needs_examples"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
                    添加或更新代码示例
                </font></font></label>
                <label>
                    <input type="checkbox" name="needs_art"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
                    添加或更新插图
                </font></font></label>
                <label>
                    <input type="checkbox" name="missingInfo"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
                    添加有关...的信息
                </font></font></label>
            </div>
        </div>

        <textarea id="comment" name="problem" cols="70" rows="8" placeholder="Please tell us more about your experience with this document" data-asterisk="a2" required=""></textarea>
        <sup id="a2" class="asterisk" aria-hidden="true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">*</font></font></sup>

        <p class="fineprint">
            <em aria-hidden="true"><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">*</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">必填信息</font></font></em>
        </p> 

        <font style="vertical-align: inherit;"><font style="vertical-align: inherit;"><input id="submit" type="button" value="发送"></font></font>

        <section id="legal">
            <p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
                要提交产品错误或增强请求，请访问 
                 </font></font><a href="https://developer.apple.com/bugreporter/" target="_blank"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bug Reporter</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">  
                页面。
            </font></font></p>
            <p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
                在您向我们发送反馈之前，</font><font style="vertical-align: inherit;">
                请阅读</font></font><a href="http://www.apple.com/legal/policies/ideas.html" target="_blank"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Apple的未经请求的意见提交政策</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。
            </font></font></p> 
        </section>
    </form>
</div><div id="goog-gt-tt" class="skiptranslate" dir="ltr"><div style="padding: 8px;"><div><div class="logo"><img src="./Swift编程语言（Swift 4.1）：高级操作符_files/translate_24dp.png" width="20" height="20" alt="Google 翻译"></div></div></div><div class="top" style="padding: 8px; float: left; width: 100%;"><h1 class="title gray">原文</h1></div><div class="middle" style="padding: 8px;"><div class="original-text"></div></div><div class="bottom" style="padding: 8px;"><div class="activity-links"><span class="activity-link">提供更好的翻译建议</span><span class="activity-link"></span></div><div class="started-activity-container"><hr style="color: #CCC; background-color: #CCC; height: 1px; border: none;"><div class="activity-root"></div></div></div><div class="status-message" style="display: none;"></div></div>



<div class="goog-te-spinner-pos"><div class="goog-te-spinner-animation"><svg xmlns="http://www.w3.org/2000/svg" class="goog-te-spinner" width="96px" height="96px" viewBox="0 0 66 66"><circle class="goog-te-spinner-path" fill="none" stroke-width="6" stroke-linecap="round" cx="33" cy="33" r="30"></circle></svg></div></div></body></html>